<!DOCTYPE html>
<html>
<head>
    <title>æ–°å¹´ç¥ç¦æŠ½ç­¾</title>
    <link rel="stylesheet" href="https://developer.harmonyos.com/resource/HarmonyOSSans/HarmonyOsSans.css">
    <style>
        body {
            margin: 0;
            height: 100vh;
            background: linear-gradient(
                180deg,
                #0f0c29 0%,    /* æ·±è“è‰²èµ·å§‹ */
                #302b63 35%,   /* è°ƒæ•´ä¸­é—´è¿‡æ¸¡ä½ç½®ä»50%åˆ°35% */
                #24243e 100%   /* ç»“æŸé¢œè‰² */
            );
            font-family: "HarmonyOS Sans SC", "Microsoft YaHei", sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background-attachment: fixed; /* å›ºå®šèƒŒæ™¯,é˜²æ­¢æ»šåŠ¨æ—¶äº§ç”Ÿå‰²è£‚ */
            background-repeat: no-repeat; /* é˜²æ­¢èƒŒæ™¯é‡å¤ */
            background-size: 100% 100%; /* ç¡®ä¿èƒŒæ™¯è¦†ç›–æ•´ä¸ªè§†å£ */
        }

        .container {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
            width: auto;
            height: auto;
        }
        .sky-lantern::after {
            content: 'ç¦';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ffd700;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.8);
        }

        .sky-lantern .decoration {
            position: absolute;
            width: 40px;
            height: 10px;
            background: linear-gradient(90deg, #ffd700, #ffeb3b);
            border-radius: 5px;
            left: 50%;
            transform: translateX(-50%);
        }

        .sky-lantern .decoration:nth-child(1) {
            top: 15px;
        }

        .sky-lantern .decoration:nth-child(2) {
            top: 35px;
        }

        .sky-lantern .decoration:nth-child(3) {
            top: 55px;
        }

        .sky-lantern {
            position: absolute;
            width: 60px;
            height: 90px;
            background: linear-gradient(to bottom, #ff4d4d, #ff6b6b);
            border-radius: 30px 30px 5px 5px;
            box-shadow: 0 0 30px rgba(255, 77, 77, 0.6);
            animation: float 8s infinite ease-in-out;
            z-index: 0;
            left: var(--x, 50%);
            top: var(--y, 50%);
            animation-delay: var(--delay, 0s);
            transition: transform 0.3s ease;
        }

        .sky-lantern::before {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: rgba(255, 165, 0, 0.8);
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(255, 165, 0, 0.6);
            animation: flicker 2s infinite;
        }

        .sky-lantern:hover {
            transform: scale(1.1);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(3deg); }
            50% { transform: translateY(-30px) rotate(-3deg); }
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .blessing-box {
            width: 300px;
            height: 400px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #ffd700;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
            backdrop-filter: blur(5px);
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        .blessing-text {
            font-family: "HarmonyOS Sans SC", "Microsoft YaHei", "Segoe UI Emoji", sans-serif;
            background: linear-gradient(45deg, #ff3333, #ffffff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-size: 72px;
            margin: 20px;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 2px 2px 4px rgba(255, 51, 51, 0.3);
            font-weight: bold;
            line-height: 1.5;
            text-align: center;
            position: relative;
            padding: 30px;
            transition: all 0.5s ease;
            white-space: pre-line;
        }

        .blessing-title {
            font-family: "HarmonyOS Sans SC", "Microsoft YaHei", sans-serif;
            font-size: 36px;
            background: linear-gradient(45deg, #ffd700, #ff3333);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 3px 3px 6px rgba(255, 215, 0, 0.5);
            margin-bottom: 30px !important;
        }

        .draw-button {
            background: #ff4d4d;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .draw-button:hover {
            transform: scale(1.1);
            background: #ff6b6b;
        }

        .lantern {
            position: absolute;
            width: 50px;
            height: 70px;
            background: linear-gradient(to bottom, #ff4d4d, #ff6b6b);
            border-radius: 25px 25px 8px 8px;
            box-shadow: 0 0 20px rgba(255, 77, 77, 0.5);
            animation: swing 3s infinite ease-in-out;
            z-index: 0;
            position: relative;
        }

        /* æ·»åŠ ç¯ç¬¼è£…é¥° */
        .lantern::before {
            content: 'ç¦';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ffd700;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.8);
        }

        /* æ·»åŠ ç¯ç¬¼é¡¶éƒ¨ */
        .lantern::after {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 10px;
            background: #ffd700;
            border-radius: 5px 5px 0 0;
        }

        /* æ·»åŠ ç¯ç¬¼åº•éƒ¨ç«ç„°æ•ˆæœ */
        .lantern .flame {
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: radial-gradient(circle at center, #ffeb3b, #ffd700, transparent 70%);
            border-radius: 50%;
            animation: flicker 2s infinite ease-in-out;
        }

        /* æ·»åŠ è£…é¥°çº¿æ¡ */
        .lantern .decoration {
            position: absolute;
            width: 80%;
            height: 2px;
            background: rgba(255, 215, 0, 0.5);
            left: 10%;
        }

        .lantern .decoration:nth-child(1) { top: 20%; }
        .lantern .decoration:nth-child(2) { top: 40%; }
        .lantern .decoration:nth-child(3) { top: 60%; }

        @keyframes flicker {
            0%, 100% { 
                opacity: 1;
                transform: translateX(-50%) scale(1);
            }
            50% { 
                opacity: 0.8;
                transform: translateX(-50%) scale(0.9);
            }
        }

        .firecracker {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes swing {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        @keyframes explode {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(20); opacity: 0; }
        }

        /* æ·»åŠ æ–°çš„åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .blessing-text.animate {
            animation: fadeIn 0.5s ease-out;
        }

        /* æ·»åŠ åª’ä½“æŸ¥è¯¢ä»¥ç¡®ä¿åœ¨å°å±å¹•ä¸Šä¹Ÿèƒ½æ­£ç¡®æ˜¾ç¤º */
        @media screen and (max-height: 600px) {
            .blessing-box {
                height: 300px;
                transform: scale(0.9);
            }
            
            .blessing-title {
                font-size: 28px;
                margin-bottom: 15px !important;
            }
            
            .blessing-text {
                font-size: 36px;
                min-height: 100px;
            }
        }

        /* æ·»åŠ æ˜Ÿæ˜Ÿæ ·å¼ */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 1.5s infinite ease-in-out;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* æ·»åŠ  emoji é™è½åŠ¨ç”»æ ·å¼ */
        .falling-emoji {
            position: absolute;
            font-size: 24px;
            pointer-events: none;
            animation: fallDown 3s linear forwards;
            z-index: 1;
        }

        @keyframes fallDown {
            0% {
                transform: translateY(-20px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* æ·»åŠ è›‡å½¢åŠ¨ç”»æ•ˆæœ */
        .emoji-firework-particle {
            position: absolute;
            pointer-events: none;
            animation: snakeFirework 2s ease-out forwards;
            font-size: 12px;
            z-index: 1;
        }

        @keyframes snakeFirework {
            0% {
                transform: translate(0, 0) scale(0.1);
                opacity: 1;
            }
            50% {
                transform: translate(var(--tx), var(--ty)) scale(1) rotate(var(--rotation));
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(1) rotate(var(--rotation));
                opacity: 0;
            }
        }

        /* ä¿®æ”¹åŸå¸‚å‰ªå½±æ ·å¼ï¼Œæ·»åŠ çª—æˆ·ç¯å…‰æ•ˆæœ */
        .city-silhouette {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 25vh;
            background-image: 
                /* æ·»åŠ éšæœºåˆ†å¸ƒçš„é»„è‰²ç¯å…‰ */
                radial-gradient(2px 2px at 10% 80%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(2px 2px at 20% 85%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(2px 2px at 30% 75%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(2px 2px at 40% 82%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(2px 2px at 50% 78%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(2px 2px at 60% 85%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(2px 2px at 70% 80%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(2px 2px at 80% 83%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(2px 2px at 90% 77%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                /* åŸæœ‰çš„æ¸å˜èƒŒæ™¯ */
                linear-gradient(to top, rgba(0, 32, 91, 0.8) 0%, transparent 100%),
                repeating-linear-gradient(90deg, 
                    transparent 0%, transparent 4%,
                    #001a4d 4%, #001a4d 7%,
                    transparent 7%, transparent 12%,
                    #001a4d 12%, #001a4d 14%,
                    transparent 14%, transparent 18%
                );
            background-size: 
                100% 100%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 100% 100%,
                100% 100%, 100% 100%, 100% 100%,
                100% 100%, 1200px 100%;
            z-index: 1;
            pointer-events: none;
            animation: windowsFlicker 4s infinite alternate;
        }

        /* æ·»åŠ ç¯å…‰é—ªçƒåŠ¨ç”» */
        @keyframes windowsFlicker {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        /* ä¿®æ”¹å»ºç­‘ç‰©æ ·å¼ï¼Œæ·»åŠ æ›´å¤šçª—æˆ·ç¯å…‰ */
        .buildings {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30vh;
            background-image: 
                /* æ·»åŠ éšæœºåˆ†å¸ƒçš„é»„è‰²ç¯å…‰ */
                radial-gradient(3px 3px at 15% 70%, rgba(255, 255, 150, 0.9) 50%, transparent 100%),
                radial-gradient(2px 2px at 25% 85%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(2px 2px at 35% 75%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(3px 3px at 45% 80%, rgba(255, 255, 150, 0.9) 50%, transparent 100%),
                radial-gradient(2px 2px at 55% 85%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(2px 2px at 65% 75%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(3px 3px at 75% 80%, rgba(255, 255, 150, 0.9) 50%, transparent 100%),
                radial-gradient(2px 2px at 85% 85%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                /* åŸæœ‰çš„æ¸å˜èƒŒæ™¯ */
                linear-gradient(to top, rgba(0, 24, 69, 0.9) 0%, transparent 100%),
                repeating-linear-gradient(90deg,
                    #00134d 0%, #00134d 3%,
                    transparent 3%, transparent 6%,
                    #00134d 6%, #00134d 8%,
                    transparent 8%, transparent 12%,
                    #00134d 12%, #00134d 15%
                );
            background-size: 
                100% 100%, 100% 100%, 100% 100%, 100% 100%,
                100% 100%, 100% 100%, 100% 100%, 100% 100%,
                100% 100%, 2000px 100%;
            z-index: 2;
            pointer-events: none;
            opacity: 0.9;
            animation: buildingLights 6s infinite alternate;
        }

        /* æ·»åŠ å»ºç­‘ç‰©ç¯å…‰åŠ¨ç”» */
        @keyframes buildingLights {
            0% { opacity: 0.85; }
            50% { opacity: 0.95; }
            100% { opacity: 0.9; }
        }

        /* æ·»åŠ å·¦ä¾§å¤æ¥¼å‰ªå½± */
        .ancient-tower-left {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 200px;
            height: 60vh;
            background: linear-gradient(to right, 
                rgba(180, 0, 0, 0.9),
                rgba(180, 0, 0, 0.7)
            );
            clip-path: polygon(
                0 100%, 100% 100%,
                100% 40%, 80% 40%,
                80% 30%, 100% 30%,
                100% 25%, 60% 25%,
                60% 15%, 80% 15%,
                80% 10%, 40% 10%,
                40% 20%, 20% 20%,
                20% 0, 0 0
            );
            z-index: 3;
            pointer-events: none;
        }

        /* æ·»åŠ å³ä¾§å¤æ¥¼å‰ªå½± */
        .ancient-tower-right {
            position: fixed;
            bottom: 0;
            right: 0;
            width: 200px;
            height: 65vh;
            background: linear-gradient(to left, 
                rgba(180, 0, 0, 0.9),
                rgba(180, 0, 0, 0.7)
            );
            clip-path: polygon(
                0 100%, 100% 100%,
                100% 0, 80% 0,
                80% 15%, 60% 15%,
                60% 25%, 40% 25%,
                40% 20%, 20% 20%,
                20% 30%, 0 30%,
                0 40%, 20% 40%
            );
            z-index: 3;
            pointer-events: none;
        }

        /* ä¸ºå¤æ¥¼æ·»åŠ çª—æˆ·ç¯å…‰æ•ˆæœ */
        .ancient-tower-left::after,
        .ancient-tower-right::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(2px 2px at 30% 25%, rgba(255, 255, 150, 0.9) 50%, transparent 100%),
                radial-gradient(2px 2px at 70% 35%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                radial-gradient(2px 2px at 40% 45%, rgba(255, 255, 150, 0.9) 50%, transparent 100%),
                radial-gradient(2px 2px at 60% 55%, rgba(255, 255, 150, 0.8) 50%, transparent 100%);
            animation: towerLights 4s infinite alternate;
        }

        @keyframes towerLights {
            0% { opacity: 0.6; }
            50% { opacity: 0.9; }
            100% { opacity: 0.7; }
        }

        /* æ·»åŠ ç«ç®­æ ·å¼ */
        .rocket {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
        }

        .rocket::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 8px;
            background: radial-gradient(circle at center, #ffd700, #ff4d4d);
            border-radius: 50%;
            animation: flicker 0.2s infinite;
        }

        /* æ·»åŠ æ–°æ˜¥ç¥ç¦æ°”æ³¡æ ·å¼ */
        .blessing-bubble {
            position: fixed;
            padding: 15px;
            background: rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            color: #ffd700;
            font-size: 16px;
            backdrop-filter: blur(5px);
            pointer-events: none;
            opacity: 0;
            z-index: 6;
            animation: bubbleFloat 3s forwards;
        }

        @keyframes bubbleFloat {
            0% { transform: translateY(0); opacity: 0; }
            20% { opacity: 1; }
            80% { opacity: 1; }
            100% { transform: translateY(-100px); opacity: 0; }
        }

        /* æ·»åŠ æœˆäº®æ ·å¼ */
        .moon {
            position: fixed;
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, #ffd700, #fff5b6);
            border-radius: 50%;
            box-shadow: 
                0 0 50px #ffd700,
                0 0 100px rgba(255, 215, 0, 0.3);
            top: 50px;
            right: 100px;
            z-index: 0;
            animation: moonGlow 4s infinite alternate;
        }

        /* æ·»åŠ æœˆäº®è¡¨é¢çº¹ç† */
        .moon::after {
            content: '';
            position: absolute;
            top: 15px;
            left: 15px;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            box-shadow: 
                40px 10px 0 -8px rgba(255, 255, 255, 0.1),
                25px 35px 0 -5px rgba(255, 255, 255, 0.15),
                50px 45px 0 -7px rgba(255, 255, 255, 0.1);
        }

        @keyframes moonGlow {
            0% { box-shadow: 0 0 50px #ffd700, 0 0 100px rgba(255, 215, 0, 0.3); }
            100% { box-shadow: 0 0 60px #ffd700, 0 0 120px rgba(255, 215, 0, 0.4); }
        }

        .blessing-box {
            z-index: 2; /* ç¡®ä¿ç¥ç¦æ¡†åœ¨çƒŸèŠ±ä¹‹ä¸Š */
        }
        
        .firecracker, .rocket {
            z-index: 1; /* ç¡®ä¿çƒŸèŠ±æ•ˆæœåœ¨å‰æ™¯ */
        }
        
        .city-silhouette, .buildings, .ancient-tower-left, .ancient-tower-right {
            z-index: 0; /* ç¡®ä¿èƒŒæ™¯å…ƒç´ åœ¨æœ€å */
        }

        /* æ·»åŠ éœ“è™¹ç¯æ–‡å­—æ ·å¼ */
        .neon-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(2.5); /* æ”¾å¤§æ–‡å­— */
            font-family: "HarmonyOS Sans SC", sans-serif;
            font-size: 72px;
            font-weight: bold;
            text-transform: uppercase;
            z-index: 0; /* ç¡®ä¿åœ¨èƒŒæ™¯å±‚ */
            opacity: 0.5; /* é™ä½ä¸é€æ˜åº¦ä½¿å…¶ä¸é‚£ä¹ˆæ˜¾çœ¼ */
            pointer-events: none; /* é˜²æ­¢å¹²æ‰°äº¤äº’ */
            
            /* æ–‡å­—æ¸å˜è‰² */
            background: linear-gradient(
                to bottom,
                #ff0000 0%,    /* çº¢è‰²å¼€å§‹ */
                #ff69b4 25%,   /* ç²‰çº¢è‰² */
                #ff00ff 50%,   /* ç´«è‰² */
                #00ffff 75%,   /* é’è‰² */
                #0000ff 100%   /* è“è‰²ç»“æŸ */
            );
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            
            /* éœ“è™¹ç¯å‘å…‰æ•ˆæœ */
            text-shadow: 
                0 0 10px rgba(255, 255, 255, 0.8),
                0 0 20px rgba(255, 255, 255, 0.8),
                0 0 30px rgba(255, 0, 0, 0.5),
                0 0 40px rgba(255, 0, 0, 0.5),
                0 0 50px rgba(255, 0, 0, 0.3),
                0 0 60px rgba(255, 0, 0, 0.3);
            
            /* æ·»åŠ å‘¼å¸åŠ¨ç”» */
            animation: neonBreath 3s infinite alternate, 
                      neonColor 10s infinite linear;
        }

        /* å‘¼å¸æ•ˆæœåŠ¨ç”» */
        @keyframes neonBreath {
            from {
                filter: brightness(0.8);
                text-shadow: 
                    0 0 10px rgba(255, 255, 255, 0.8),
                    0 0 20px rgba(255, 255, 255, 0.8),
                    0 0 30px rgba(255, 0, 0, 0.5),
                    0 0 40px rgba(255, 0, 0, 0.5);
            }
            to {
                filter: brightness(1.2);
                text-shadow: 
                    0 0 20px rgba(255, 255, 255, 0.8),
                    0 0 30px rgba(255, 255, 255, 0.8),
                    0 0 40px rgba(255, 0, 0, 0.5),
                    0 0 50px rgba(255, 0, 0, 0.5),
                    0 0 60px rgba(255, 0, 0, 0.3);
            }
        }

        /* é¢œè‰²å˜æ¢åŠ¨ç”» */
        @keyframes neonColor {
            0% {
                filter: hue-rotate(0deg) brightness(1.2); /* å¢åŠ äº®åº¦ */
            }
            100% {
                filter: hue-rotate(360deg) brightness(1.2);
            }
        }

        /* ä¿®æ”¹æ–‡å­—äº‘æ ·å¼ */
        .floating-word {
            position: absolute;
            font-family: "HarmonyOS Sans SC", "Microsoft YaHei", sans-serif;
            font-weight: bold;
            background: linear-gradient(
                to bottom,
                #ff0000 0%,    /* çº¢è‰²å¼€å§‹ */
                #ff69b4 25%,   /* ç²‰çº¢è‰² */
                #ff00ff 50%,   /* ç´«è‰² */
                #00ffff 75%,   /* é’è‰² */
                #0000ff 100%   /* è“è‰²ç»“æŸ */
            );
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            white-space: nowrap;
            animation: floatUp 15s linear infinite;
            opacity: 0;
            transition: opacity 0.3s;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            z-index: 0; /* ç¡®ä¿åœ¨æœ€åº•å±‚ */
            text-shadow: 
                0 0 10px rgba(255, 255, 255, 0.8),
                0 0 20px rgba(255, 255, 255, 0.8),
                0 0 30px rgba(255, 0, 0, 0.5),
                0 0 40px rgba(255, 0, 0, 0.5),
                0 0 50px rgba(255, 0, 0, 0.3),
                0 0 60px rgba(255, 0, 0, 0.3);
            transform: scale(2.5); /* æ”¾å¤§æ–‡å­— */
        }

        .floating-word:hover {
            opacity: 0.9;
        }

        @keyframes floatUp {
            0% {
                transform: translate(var(--start-x), 120vh) scale(2.5) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6; /* æé«˜é€æ˜åº¦ */
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translate(var(--end-x), -20vh) scale(2.5) rotate(var(--rotation));
                opacity: 0;
            }
        }

        /* ä¿®æ”¹æ–‡å­—äº‘åŠ¨ç”»ç»„åˆ */
        .floating-word {
            animation: 
                floatUp 15s linear infinite,
                neonColor 10s infinite linear;
        }

        /* ä¿®æ”¹ç§»åŠ¨ç«¯é€‚é…çš„åª’ä½“æŸ¥è¯¢ */
        @media screen and (max-width: 768px) {
            .blessing-box {
                width: 90%;
                height: auto;
                min-height: 500px; /* å¢åŠ æœ€å°é«˜åº¦ */
                padding: 30px; /* å¢åŠ å†…è¾¹è· */
                margin: 15px auto;
                transform: scale(1);
            }
            
            .blessing-title {
                font-size: 42px; /* å¢åŠ æ ‡é¢˜å­—ä½“å¤§å° */
                margin-bottom: 30px !important;
            }
            
            .blessing-text {
                font-size: 64px; /* å¢åŠ ç§»åŠ¨ç«¯å­—ä½“å¤§å° */
                min-height: 250px;
                padding: 25px;
                line-height: 1.4;
            }
            
            .draw-button {
                padding: 20px 40px; /* å¢åŠ æŒ‰é’®å¤§å° */
                font-size: 24px; /* å¢åŠ æŒ‰é’®æ–‡å­—å¤§å° */
                margin-top: 30px;
            }

            /* è°ƒæ•´ç¯ç¬¼å¤§å° */
            .sky-lantern {
                width: 40px;
                height: 60px;
            }

            /* è°ƒæ•´æœˆäº®ä½ç½®å’Œå¤§å° */
            .moon {
                width: 60px;
                height: 60px;
                top: 30px;
                right: 30px;
            }

            /* è°ƒæ•´æ–‡å­—äº‘å¤§å° */
            .floating-word {
                font-size: 16px !important;
            }

            /* è°ƒæ•´å¤æ¥¼å¤§å° */
            .ancient-tower-left,
            .ancient-tower-right {
                width: 120px;
                height: 40vh;
            }

            /* ä¿®æ”¹åŸå¸‚å‰ªå½±æ ·å¼ */
            .city-silhouette {
                height: 30vh; /* å¢åŠ é«˜åº¦ */
                background-image: 
                    /* å‡å°‘ç¯å…‰æ•°é‡ï¼Œå¢åŠ å¤§å° */
                    radial-gradient(3px 3px at 15% 80%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                    radial-gradient(3px 3px at 35% 85%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                    radial-gradient(3px 3px at 55% 75%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                    radial-gradient(3px 3px at 75% 82%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                    radial-gradient(3px 3px at 90% 78%, rgba(255, 255, 150, 0.8) 50%, transparent 100%),
                    /* ç®€åŒ–çš„æ¸å˜èƒŒæ™¯ */
                    linear-gradient(to top, rgba(0, 32, 91, 0.8) 0%, transparent 100%),
                    repeating-linear-gradient(90deg, 
                        transparent 0%, transparent 8%,
                        #001a4d 8%, #001a4d 15%,
                        transparent 15%, transparent 25%
                    );
                background-size: 
                    100% 100%, 100% 100%, 100% 100%, 100% 100%,
                    100% 100%, 800px 100%; /* è°ƒæ•´å»ºç­‘ç‰©é—´è· */
            }

            /* è°ƒæ•´å»ºç­‘ç‰©æ ·å¼ */
            .buildings {
                height: 35vh;
                background-size: 
                    100% 100%, 100% 100%, 100% 100%, 100% 100%,
                    100% 100%, 100% 100%, 100% 100%, 100% 100%,
                    100% 100%, 1000px 100%;
            }

            /* è°ƒæ•´å¤æ¥¼å¤§å°å’Œä½ç½® */
            .ancient-tower-left,
            .ancient-tower-right {
                width: 25vw; /* ä½¿ç”¨è§†å£å®½åº¦çš„ç™¾åˆ†æ¯” */
                height: 40vh;
            }
        }

        /* ä¿®æ”¹æ¡Œé¢ç«¯çš„å°ºå¯¸ */
        @media screen and (min-width: 769px) {
            .blessing-box {
                width: 500px; /* å¢åŠ æ¡Œé¢ç«¯å®½åº¦ */
                height: 600px; /* å¢åŠ æ¡Œé¢ç«¯é«˜åº¦ */
                padding: 30px;
            }
            
            .blessing-title {
                font-size: 42px;
                margin-bottom: 40px !important;
            }
            
            .blessing-text {
                font-size: 72px; /* å¢åŠ æ¡Œé¢ç«¯å­—ä½“å¤§å° */
                min-height: 300px;
                padding: 30px;
                line-height: 1.5;
            }
            
            .draw-button {
                padding: 20px 40px;
                font-size: 24px;
                margin-top: 30px;
            }
        }

        /* æ·»åŠ è§¦æ‘¸è®¾å¤‡çš„ä¼˜åŒ– */
        @media (hover: none) {
            .sky-lantern:hover,
            .draw-button:hover {
                transform: none;
            }
            
            /* ä¼˜åŒ–è§¦æ‘¸ä½“éªŒ */
            .draw-button:active {
                transform: scale(0.95);
                background: #ff6b6b;
            }
        }

        /* æ·»åŠ æ¨ªå±æ¨¡å¼çš„ä¼˜åŒ– */
        @media screen and (max-height: 500px) and (orientation: landscape) {
            .blessing-box {
                transform: scale(0.8);
                margin: 10px auto;
            }
            
            .ancient-tower-left,
            .ancient-tower-right {
                height: 80vh;
            }
            
            .moon {
                top: 20px;
                right: 20px;
            }

            .city-silhouette {
                height: 40vh;
            }
            
            .buildings {
                height: 45vh;
            }
            
            .ancient-tower-left,
            .ancient-tower-right {
                height: 60vh;
                width: 20vw;
            }
        }
    </style>
</head>
<body>
    <!-- æ·»åŠ åœ¨bodyå¼€å§‹å¤„ï¼Œåœ¨æœˆäº®å…ƒç´ ä¹‹å -->
    <div class="moon"></div>
    <div class="neon-text">New Year</div>
    
    <!-- æ·»åŠ æ–‡å­—äº‘å®¹å™¨ -->
    <div class="word-cloud" id="wordCloud"></div>
    
    <!-- æ·»åŠ åŸå¸‚å‰ªå½±å±‚ -->
    <div class="city-silhouette"></div>
    <div class="buildings"></div>
    
    <div class="container">
        <div class="blessing-box">
            <h2 class="blessing-title">| æ–°å¹´å¿«ä¹ |</h2>
            <div class="blessing-text" id="blessingText">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æŠ½å–ç¥ç¦</div>
            <button class="draw-button" onclick="drawBlessing()">æŠ½å–ç¥ç¦</button>
        </div>
    </div>

    <!-- æ·»åŠ éŸ³é¢‘å…ƒç´  -->
    <audio id="fireworkSound1" preload="auto">
        <source src="firework1.mp3" type="audio/mpeg">
    </audio>
    <audio id="fireworkSound2" preload="auto">
        <source src="firework2.mp3" type="audio/mpeg">
    </audio>
    <audio id="fireworkSound3" preload="auto">
        <source src="firework3.mp3" type="audio/mpeg">
    </audio>

    <script>
        const blessings = [
            "ğŸé‡‘è›‡çŒ®ç‘\nâœ¨ä¸‡äº‹å¦‚æ„",
            "ğŸ­è›‡èˆçµåŠ¨\nğŸš€äº‹ä¸šè…¾é£",
            "ğŸè›‡å¹´å¤§å‰\nğŸ®é˜–å®¶æ¬¢ä¹",
            "ğŸ’°è´¢æºå¹¿è¿›\nğŸ§§ç¦å¯¿å®‰åº·", 
            "ğŸ‹è›‡å¹´çº³ç¦\nâ­å‰ç¨‹ä¼¼é”¦",
            "ğŸŠå‰ç¥¥å¦‚æ„\nğŸ’«å¿ƒæƒ³äº‹æˆ",
            "ğŸ­è›‡å¹´ç¥¥ç‘\nğŸ’å¹¸ç¦å®‰åº·",
            "ğŸè›‡èˆç››ä¸–\nğŸŒŸä¸‡äº‹é¡ºé‚",
            "ğŸ†æ–°å¹´å¿«ä¹\nğŸˆå¤§å‰å¤§åˆ©",
            "â­ç¦æ˜Ÿé«˜ç…§\nğŸ‰å–œæ°”æ´‹æ´‹",
            "ğŸ‹è›‡å¹´çº³ç¦\nğŸ§§ç™¾äº‹äº¨é€š",
            "ğŸŠäº”ç¦ä¸´é—¨\nğŸ’«ä¸‡äº‹èƒœæ„"
        ];

        const fireworkColors = [
            '#ff0000', '#ffd700', '#00ff00', '#0000ff', 
            '#ff00ff', '#00ffff', '#ff8c00', '#ff1493',
            '#9400d3', '#7fff00', '#ff69b4', '#00fa9a'
        ];

        // ä¿®æ”¹ç¥ç¦è¯­å’Œå¯¹åº”çš„ emoji æ˜ å°„
        const blessingEmojis = {
            "ğŸé‡‘è›‡çŒ®ç‘ï¼Œâœ¨ä¸‡äº‹å¦‚æ„": ["ğŸ", "âœ¨"],
            "ğŸ­è›‡èˆçµåŠ¨ï¼ŒğŸš€äº‹ä¸šè…¾é£": ["ğŸ", "ğŸš€"],
            "ğŸè›‡å¹´å¤§å‰ï¼ŒğŸ®é˜–å®¶æ¬¢ä¹": ["ğŸ", "ğŸ®"],
            "ğŸ’°è´¢æºå¹¿è¿›ï¼ŒğŸ§§ç¦å¯¿å®‰åº·": ["ğŸ’°", "ğŸ§§"],
            "ğŸ‹è›‡å¹´çº³ç¦ï¼Œâ­å‰ç¨‹ä¼¼é”¦": ["ğŸ", "â­"],
            "ğŸŠå‰ç¥¥å¦‚æ„ï¼ŒğŸ’«å¿ƒæƒ³äº‹æˆ": ["ğŸŠ", "ğŸ’«"],
            "ğŸ­è›‡å¹´ç¥¥ç‘ï¼ŒğŸ’å¹¸ç¦å®‰åº·": ["ğŸ", "ğŸ‹"],
            "ğŸè›‡èˆç››ä¸–ï¼ŒğŸŒŸä¸‡äº‹é¡ºé‚": ["ğŸ", "ğŸŒŸ"],
            "ğŸ†æ–°å¹´å¿«ä¹ï¼ŒğŸˆå¤§å‰å¤§åˆ©": ["ğŸ†", "ğŸˆ"],
            "â­ç¦æ˜Ÿé«˜ç…§ï¼ŒğŸ‰å–œæ°”æ´‹æ´‹": ["â­", "ğŸ‰"],
            "ğŸ‹è›‡å¹´çº³ç¦ï¼ŒğŸ§§ç™¾äº‹äº¨é€š": ["ğŸ", "ğŸ§§"],
            "ğŸŠäº”ç¦ä¸´é—¨ï¼ŒğŸ’«ä¸‡äº‹èƒœæ„": ["ğŸŠ", "ğŸ’"]
        };

        // å°†å¸¸é‡é…ç½®é›†ä¸­ç®¡ç†
        const CONFIG = {
            FIREWORK: {
                COLORS: ['#ff0000', '#ffd700', '#00ff00', '#0000ff', '#ff00ff', '#00ffff', '#ff8c00', '#ff1493', '#9400d3', '#7fff00', '#ff69b4', '#00fa9a'],
                SOUND_VOLUME: 0.3,
                PARTICLE_COUNT: 24,
                RADIUS: 150,
                TYPES: ['circle', 'heart', 'spiral', 'double', 'burst'] // æ·»åŠ çƒŸèŠ±ç±»å‹
            },
            LANTERN: {
                SECTIONS: 12,          // å¢åŠ åŒºæ®µæ•°é‡ï¼Œä»6å¢åŠ åˆ°12
                MIN_Y_RATIO: 0.05,
                MAX_Y_RATIO: 0.35,     // å¢åŠ æœ€å¤§é«˜åº¦æ¯”ä¾‹ï¼Œè®©ç¯ç¬¼åˆ†å¸ƒæ›´å¹¿
                CENTER_OFFSET: 0.2,    // å‡å°ä¸­å¿ƒåç§»ï¼Œè®©ç¯ç¬¼åˆ†å¸ƒæ›´å¯†é›†
                LANTERNS_PER_SECTION: 2 // æ¯ä¸ªåŒºæ®µçš„ç¯ç¬¼æ•°é‡
            },
            STARS: {
                COUNT: 20,
                MIN_SIZE: 1,
                MAX_SIZE: 3
            }
        };

        // ä½¿ç”¨ç±»æ¥ç®¡ç†éŸ³æ•ˆ
        class SoundManager {
            constructor() {
                this.sounds = {};
                for (let i = 1; i <= 3; i++) {
                    this.sounds[i] = document.getElementById(`fireworkSound${i}`);
                    if (this.sounds[i]) {
                        this.sounds[i].volume = CONFIG.FIREWORK.SOUND_VOLUME;
                    }
                }
            }

            playRandom() {
                const soundNumber = Math.floor(Math.random() * 3) + 1;
                const audio = this.sounds[soundNumber];
                if (audio) {
                    audio.currentTime = 0;
                    audio.play().catch(e => console.log("éŸ³é¢‘æ’­æ”¾å¤±è´¥:", e));
                }
            }
        }

        // ä½¿ç”¨ç±»æ¥ç®¡ç†ç¯ç¬¼
        class LanternManager {
            createLanterns() {
                const sectionWidth = window.innerWidth / CONFIG.LANTERN.SECTIONS;
                const minY = window.innerHeight * CONFIG.LANTERN.MIN_Y_RATIO;
                const maxY = window.innerHeight * CONFIG.LANTERN.MAX_Y_RATIO;
                
                for (let i = 0; i < CONFIG.LANTERN.SECTIONS; i++) {
                    // åœ¨æ¯ä¸ªåŒºæ®µåˆ›å»ºå¤šä¸ªç¯ç¬¼
                    for (let j = 0; j < CONFIG.LANTERN.LANTERNS_PER_SECTION; j++) {
                        this.createSingleLantern(i, sectionWidth, minY, maxY);
                    }
                }
            }

            createSingleLantern(index, sectionWidth, minY, maxY) {
                const lantern = document.createElement('div');
                lantern.className = 'lantern';
                lantern.dataset.index = index;
                
                this.addLanternDecorations(lantern);
                this.positionLantern(lantern, index, sectionWidth, minY, maxY);
                
                document.body.appendChild(lantern);
            }

            addLanternDecorations(lantern) {
                // æ·»åŠ è£…é¥°çº¿æ¡
                for (let j = 0; j < 3; j++) {
                    const decoration = document.createElement('div');
                    decoration.className = 'decoration';
                    lantern.appendChild(decoration);
                }
                
                // æ·»åŠ ç«ç„°æ•ˆæœ
                const flame = document.createElement('div');
                flame.className = 'flame';
                lantern.appendChild(flame);
            }

            positionLantern(lantern, index, sectionWidth, minY, maxY) {
                const centerOffset = sectionWidth * CONFIG.LANTERN.CENTER_OFFSET;
                const minX = index * sectionWidth;
                const maxX = (index + 1) * sectionWidth;
                
                // æ·»åŠ éšæœºåç§»ï¼Œä½¿ç¯ç¬¼åˆ†å¸ƒæ›´è‡ªç„¶
                const randomOffset = (Math.random() - 0.5) * sectionWidth * 0.5;
                const x = minX + centerOffset + randomOffset + (Math.random() * (maxX - minX - 2 * centerOffset));
                
                // æ·»åŠ éšæœºé«˜åº¦å˜åŒ–
                const heightVariation = Math.random() * (maxY - minY);
                const y = minY + heightVariation;
                
                lantern.style.left = `${x}px`;
                lantern.style.top = `${y}px`;
                
                // æ·»åŠ éšæœºåˆå§‹æ—‹è½¬è§’åº¦
                const randomRotation = (Math.random() - 0.5) * 10;
                lantern.style.transform = `rotate(${randomRotation}deg)`;
            }
        }

        // ä½¿ç”¨é˜²æŠ–å‡½æ•°ä¼˜åŒ–äº‹ä»¶å¤„ç†
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // åˆå§‹åŒ–
        const soundManager = new SoundManager();
        const lanternManager = new LanternManager();

        window.addEventListener('load', () => {
            lanternManager.createLanterns();
            createStars();
            createWordCloud(); // ç›´æ¥åˆ›å»ºæ–‡å­—äº‘
            
            // ä½¿ç”¨ requestAnimationFrame ä¼˜åŒ–æ€§èƒ½
            let lastFireworkTime = 0;
            const animateFireworks = (timestamp) => {
                if (timestamp - lastFireworkTime > 500) {
                    createFirecracker(
                        Math.random() * window.innerWidth,
                        Math.random() * window.innerHeight
                    );
                    lastFireworkTime = timestamp;
                }
                requestAnimationFrame(animateFireworks);
            };
            
            requestAnimationFrame(animateFireworks);
            
            // æ·»åŠ ç‚¹å‡»äº‹ä»¶æ¥å¯åŠ¨éŸ³é¢‘
            const startAudio = () => {
                autoPlayFireworkSounds();
                document.removeEventListener('click', startAudio);
            };
            
            document.addEventListener('click', startAudio, { once: true });
            
            // å¯åŠ¨è‡ªåŠ¨çƒŸèŠ±ç”Ÿæˆ
            autoGenerateFireworks();
            
            // æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»ä»»æ„ä½ç½®ç”ŸæˆçƒŸèŠ±
            document.addEventListener('click', (e) => {
                // å¿½ç•¥å¯¹æŒ‰é’®å’Œç‰¹å®šå…ƒç´ çš„ç‚¹å‡»
                if (e.target.closest('.draw-button, .blessing-box')) {
                    return;
                }
                
                // éšæœºé€‰æ‹©çƒŸèŠ±ç±»å‹
                const types = ['circle', 'heart', 'spiral', 'double', 'burst'];
                const randomType = types[Math.floor(Math.random() * types.length)];
                
                // åœ¨ç‚¹å‡»ä½ç½®ç”ŸæˆçƒŸèŠ±
                createFirework(e.clientX, e.clientY, randomType);
            });

            // åˆ›å»ºæ–‡å­—äº‘
            createWordCloud();
        });

        // ä¼˜åŒ–çª—å£è°ƒæ•´æ—¶çš„æ€§èƒ½
        window.addEventListener('resize', debounce(() => {
            // æ¸…é™¤ç°æœ‰ç¯ç¬¼
            document.querySelectorAll('.lantern').forEach(lantern => lantern.remove());
            // é‡æ–°åˆ›å»ºç¯ç¬¼
            lanternManager.createLanterns();

            // é‡æ–°åˆ›å»ºæ–‡å­—äº‘
            const container = document.getElementById('wordCloud');
            container.innerHTML = '';
            createWordCloud();
        }, 250));

        // æ·»åŠ åˆ›å»ºæ˜Ÿæ˜Ÿçš„å‡½æ•°
        function createStars() {
            const numberOfStars = 20; // æ§åˆ¶æ˜Ÿæ˜Ÿæ•°é‡
            
            for (let i = 0; i < numberOfStars; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                // éšæœºä½ç½®
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * window.innerHeight;
                
                // éšæœºå¤§å° (1-3åƒç´ )
                const size = 1 + Math.random() * 2;
                
                star.style.left = `${x}px`;
                star.style.top = `${y}px`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // éšæœºåŠ¨ç”»å»¶è¿Ÿ
                star.style.animationDelay = `${Math.random() * 2}s`;
                
                document.body.appendChild(star);
            }
        }

        // æ·»åŠ è‡ªåŠ¨æ’­æ”¾çƒŸèŠ±éŸ³æ•ˆçš„å‡½æ•°
        function autoPlayFireworkSounds() {
            if (Math.random() < 0.3) { // 30%çš„æ¦‚ç‡æ’­æ”¾å£°éŸ³
                soundManager.playRandom();
            }
            // éšæœºé—´éš”æ—¶é—´ï¼ˆ3-8ç§’ï¼‰
            const nextInterval = 3000 + Math.random() * 5000;
            setTimeout(autoPlayFireworkSounds, nextInterval);
        }

        // ä¿®æ”¹æŠ½ç­¾å‡½æ•°
        function drawBlessing() {
            const blessingText = document.getElementById('blessingText');
            const randomBlessing = blessings[Math.floor(Math.random() * blessings.length)];
            
            // è®©éšæœºçš„ç¯ç¬¼é£èµ°
            const lanterns = document.querySelectorAll('.lantern:not(.fly-away)');
            if (lanterns.length > 0) {
                const randomLantern = lanterns[Math.floor(Math.random() * lanterns.length)];
                
                // è®¾ç½®æ›´è‡ªç„¶çš„é£è¡Œè·¯å¾„
                const flyX = (Math.random() - 0.5) * window.innerWidth * 1.5; // å¢åŠ æ°´å¹³èŒƒå›´
                const flyY = -window.innerHeight * (1 + Math.random() * 0.5); // å‘ä¸Šé£è¡Œ
                const rotation = (Math.random() - 0.5) * 360; // å‡å°‘æ—‹è½¬è§’åº¦
                
                randomLantern.style.setProperty('--fly-x', `${flyX}px`);
                randomLantern.style.setProperty('--fly-y', `${flyY}px`);
                randomLantern.style.setProperty('--fly-rotation', `${rotation}deg`);
                randomLantern.classList.add('fly-away');
                
                // ç¯ç¬¼é£èµ°åç§»é™¤å…ƒç´ 
                randomLantern.addEventListener('animationend', () => {
                    randomLantern.remove();
                    // åˆ›å»ºæ–°çš„ç¯ç¬¼
                    const sectionIndex = parseInt(randomLantern.dataset.index);
                    const sectionWidth = window.innerWidth / 12;
                    const lanternWidth = 50;
                    const minX = sectionIndex * sectionWidth + lanternWidth;
                    const maxX = (sectionIndex + 1) * sectionWidth - lanternWidth;
                    const x = minX + Math.random() * (maxX - minX);
                    const y = Math.random() * (window.innerHeight / 2);
                    
                    const newLantern = document.createElement('div');
                    newLantern.className = 'lantern';
                    newLantern.dataset.index = sectionIndex;
                    
                    // æ·»åŠ è£…é¥°çº¿æ¡
                    for (let j = 0; j < 3; j++) {
                        const decoration = document.createElement('div');
                        decoration.className = 'decoration';
                        newLantern.appendChild(decoration);
                    }
                    
                    // æ·»åŠ ç«ç„°æ•ˆæœ
                    const flame = document.createElement('div');
                    flame.className = 'flame';
                    newLantern.appendChild(flame);
                    
                    newLantern.style.left = `${x}px`;
                    newLantern.style.top = `${y}px`;
                    document.body.appendChild(newLantern);
                });
            }
            
            blessingText.classList.remove('animate');
            void blessingText.offsetWidth;
            blessingText.classList.add('animate');
            blessingText.textContent = randomBlessing;

            // åˆ›å»ºå¯¹åº”çš„ emoji é™è½æ•ˆæœ
            const emojis = blessingEmojis[randomBlessing];
            if (emojis) {
                // åˆ›å»ºå¤šä¸ª emoji å®ä¾‹
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
                        createEmojiFirework(
                            Math.random() * window.innerWidth,
                            Math.random() * window.innerHeight,
                            randomEmoji
                        );
                    }, i * 300); // æ¯300msåˆ›å»ºä¸€ä¸ªæ–°çš„emoji
                }
            }

            // éšæœºé€‰æ‹©çƒŸèŠ±ç±»å‹å¹¶åˆ›å»ºå¤šä¸ªçƒŸèŠ±
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const randomType = CONFIG.FIREWORK.TYPES[Math.floor(Math.random() * CONFIG.FIREWORK.TYPES.length)];
                    createFirework(
                        window.innerWidth / 2 + (Math.random() - 0.5) * 200,
                        window.innerHeight / 2 + (Math.random() - 0.5) * 200,
                        randomType
                    );
                }, i * 200);
            }
        }

        // ä¿®æ”¹çƒŸèŠ±å‡½æ•°ï¼Œæ·»åŠ è›‡å½¢è·¯å¾„
        function createEmojiFirework(x, y, emoji) {
            const particleCount = 24; // å‡å°‘ç²’å­æ•°é‡
            const radius = 150; // å¢åŠ çˆ†ç‚¸åŠå¾„

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'emoji-firework-particle';
                particle.textContent = emoji;
                
                // åˆ›å»ºè›‡å½¢è·¯å¾„
                const angle = (i / particleCount) * Math.PI * 2;
                const spiralFactor = 1 + (i / particleCount) * 0.5; // æ·»åŠ èºæ—‹æ•ˆæœ
                const tx = Math.cos(angle) * radius * spiralFactor;
                const ty = Math.sin(angle) * radius * spiralFactor;
                const rotation = Math.random() * 360; // éšæœºæ—‹è½¬
                
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                particle.style.setProperty('--tx', `${tx}px`);
                particle.style.setProperty('--ty', `${ty}px`);
                particle.style.setProperty('--rotation', `${rotation}deg`);
                
                document.body.appendChild(particle);
                
                particle.addEventListener('animationend', () => {
                    document.body.removeChild(particle);
                });
            }
        }

        // ä¿®æ”¹çƒŸèŠ±å‡½æ•°ï¼Œæ·»åŠ ç«ç®­
        function createFirework(x, y, type = 'circle') {
            // åˆ›å»ºç«ç®­
            const rocket = document.createElement('div');
            rocket.className = 'rocket';
            rocket.style.zIndex = '1'; // ç¡®ä¿ç«ç®­åœ¨å‰æ™¯
            
            // è®¾ç½®ç«ç®­èµ·å§‹ä½ç½®ï¼ˆä»å±å¹•åº•éƒ¨éšæœºä½ç½®å‘å°„ï¼‰
            const startX = x + (Math.random() - 0.5) * 40; // æ·»åŠ ä¸€äº›éšæœºåç§»
            const startY = window.innerHeight;
            
            rocket.style.left = `${startX}px`;
            rocket.style.top = `${startY}px`;
            document.body.appendChild(rocket);

            // ç«ç®­ä¸Šå‡åŠ¨ç”»
            const rocketAnimation = rocket.animate([
                { transform: 'translate(0, 0) rotate(-2deg)' },
                { transform: 'translate(0, 0) rotate(2deg)', offset: 0.2 },
                { transform: 'translate(0, 0) rotate(-2deg)', offset: 0.4 },
                { transform: 'translate(0, 0) rotate(2deg)', offset: 0.6 },
                { transform: 'translate(0, 0) rotate(-2deg)', offset: 0.8 },
                { transform: `translate(${x - startX}px, ${y - startY}px) rotate(0)` }
            ], {
                duration: 1000,
                easing: 'cubic-bezier(0.25, 0.1, 0.25, 1)'
            });

            // ç«ç®­ä¸Šå‡å®Œæˆååˆ›å»ºçƒŸèŠ±
            rocketAnimation.onfinish = () => {
                document.body.removeChild(rocket);
                soundManager.playRandom();
                
                switch(type) {
                    case 'heart':
                        createHeartFirework(x, y);
                        break;
                    case 'spiral':
                        createSpiralFirework(x, y);
                        break;
                    case 'double':
                        createDoubleFirework(x, y);
                        break;
                    case 'burst':
                        createBurstFirework(x, y);
                        break;
                    default:
                        createCircleFirework(x, y);
                }
            };
        }

        // å¿ƒå½¢çƒŸèŠ±
        function createHeartFirework(x, y) {
            const particles = 40;
            for (let i = 0; i < particles; i++) {
                const particle = document.createElement('div');
                particle.className = 'firecracker';
                particle.style.background = CONFIG.FIREWORK.COLORS[Math.floor(Math.random() * CONFIG.FIREWORK.COLORS.length)];
                
                const angle = (i / particles) * Math.PI * 2;
                const heartX = 16 * Math.pow(Math.sin(angle), 3);
                const heartY = -(13 * Math.cos(angle) - 5 * Math.cos(2 * angle) - 2 * Math.cos(3 * angle) - Math.cos(4 * angle));
                
                const scale = 8;
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                
                const animation = particle.animate([
                    { transform: 'scale(1) translate(0, 0)', opacity: 1 },
                    { transform: `scale(1.5) translate(${heartX * scale}px, ${heartY * scale}px)`, opacity: 0 }
                ], {
                    duration: 1500,
                    easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
                });
                
                document.body.appendChild(particle);
                animation.onfinish = () => document.body.removeChild(particle);
            }
        }

        // èºæ—‹çƒŸèŠ±
        function createSpiralFirework(x, y) {
            const particles = 50;
            for (let i = 0; i < particles; i++) {
                const particle = document.createElement('div');
                particle.className = 'firecracker';
                particle.style.background = CONFIG.FIREWORK.COLORS[Math.floor(Math.random() * CONFIG.FIREWORK.COLORS.length)];
                
                const angle = (i / particles) * Math.PI * 8; // å¤šåœˆèºæ—‹
                const radius = i * 3;
                const spiralX = Math.cos(angle) * radius;
                const spiralY = Math.sin(angle) * radius;
                
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                
                const animation = particle.animate([
                    { transform: 'scale(1) translate(0, 0)', opacity: 1 },
                    { transform: `scale(1.2) translate(${spiralX}px, ${spiralY}px)`, opacity: 0 }
                ], {
                    duration: 2000,
                    easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
                });
                
                document.body.appendChild(particle);
                animation.onfinish = () => document.body.removeChild(particle);
            }
        }

        // åŒå±‚çƒŸèŠ±
        function createDoubleFirework(x, y) {
            createCircleFirework(x, y, 100); // å†…åœˆ
            setTimeout(() => {
                createCircleFirework(x, y, 200); // å¤–åœˆ
            }, 200);
        }

        // çˆ†è£‚çƒŸèŠ±
        function createBurstFirework(x, y) {
            const particles = 30;
            for (let i = 0; i < particles; i++) {
                const particle = document.createElement('div');
                particle.className = 'firecracker';
                particle.style.background = CONFIG.FIREWORK.COLORS[Math.floor(Math.random() * CONFIG.FIREWORK.COLORS.length)];
                
                const angle = (i / particles) * Math.PI * 2;
                const velocity = 5 + Math.random() * 5;
                const burstX = Math.cos(angle) * velocity * 30;
                const burstY = Math.sin(angle) * velocity * 30;
                
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                
                const animation = particle.animate([
                    { transform: 'scale(1) translate(0, 0)', opacity: 1 },
                    { transform: `scale(0.5) translate(${burstX}px, ${burstY}px)`, opacity: 1, offset: 0.6 },
                    { transform: `scale(0.2) translate(${burstX * 1.5}px, ${burstY * 1.5}px)`, opacity: 0 }
                ], {
                    duration: 1200,
                    easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
                });
                
                document.body.appendChild(particle);
                animation.onfinish = () => document.body.removeChild(particle);
            }
        }

        // ä¿®æ”¹åŸæœ‰çš„åœ†å½¢çƒŸèŠ±å‡½æ•°
        function createCircleFirework(x, y, radius = 150) {
            const particles = 24;
            for (let i = 0; i < particles; i++) {
                const particle = document.createElement('div');
                particle.className = 'firecracker';
                particle.style.background = CONFIG.FIREWORK.COLORS[Math.floor(Math.random() * CONFIG.FIREWORK.COLORS.length)];
                
                const angle = (i / particles) * Math.PI * 2;
                const circleX = Math.cos(angle) * radius;
                const circleY = Math.sin(angle) * radius;
                
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                
                const animation = particle.animate([
                    { transform: 'scale(1) translate(0, 0)', opacity: 1 },
                    { transform: `scale(1.5) translate(${circleX}px, ${circleY}px)`, opacity: 0 }
                ], {
                    duration: 1000,
                    easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
                });
                
                document.body.appendChild(particle);
                animation.onfinish = () => document.body.removeChild(particle);
            }
        }

        // ä¿®æ”¹createFirecrackerå‡½æ•°ï¼Œæ·»åŠ éŸ³æ•ˆ
        function createFirecracker(x, y) {
            const rocket = document.createElement('div');
            rocket.className = 'rocket';
            
            const startX = x + (Math.random() - 0.5) * 40;
            const startY = window.innerHeight;
            
            rocket.style.left = `${startX}px`;
            rocket.style.top = `${startY}px`;
            document.body.appendChild(rocket);

            const rocketAnimation = rocket.animate([
                { transform: 'translate(0, 0) rotate(-2deg)' },
                { transform: 'translate(0, 0) rotate(2deg)', offset: 0.2 },
                { transform: 'translate(0, 0) rotate(-2deg)', offset: 0.4 },
                { transform: 'translate(0, 0) rotate(2deg)', offset: 0.6 },
                { transform: 'translate(0, 0) rotate(-2deg)', offset: 0.8 },
                { transform: `translate(${x - startX}px, ${y - startY}px) rotate(0)` }
            ], {
                duration: 1000,
                easing: 'cubic-bezier(0.25, 0.1, 0.25, 1)'
            });

            rocketAnimation.onfinish = () => {
                document.body.removeChild(rocket);
                soundManager.playRandom();
                
                const count = 12;
                for (let i = 0; i < count; i++) {
                    const angle = (i / count) * Math.PI * 2;
                    const firecracker = document.createElement('div');
                    firecracker.className = 'firecracker';
                    firecracker.style.left = `${x}px`;
                    firecracker.style.top = `${y}px`;
                    firecracker.style.background = fireworkColors[Math.floor(Math.random() * fireworkColors.length)];
                    
                    const animation = firecracker.animate([
                        { transform: 'scale(1) translate(0, 0)', opacity: 1 },
                        { 
                            transform: `scale(2) translate(${Math.cos(angle) * 100}px, ${Math.sin(angle) * 100}px)`,
                            opacity: 0 
                        }
                    ], {
                        duration: 1000,
                        easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
                    });

                    document.body.appendChild(firecracker);
                    animation.onfinish = () => document.body.removeChild(firecracker);
                }
            };
        }

        // ä¿®æ”¹è‡ªåŠ¨çƒŸèŠ±ç”Ÿæˆå‡½æ•°
        function autoGenerateFireworks() {
            // éšæœºé€‰æ‹©çƒŸèŠ±ç±»å‹
            const types = ['circle', 'heart', 'spiral', 'double', 'burst'];
            const randomType = types[Math.floor(Math.random() * types.length)];
            
            // éšæœºç”Ÿæˆä½ç½®ï¼ˆé¿å¼€æœ€è¾¹ç¼˜åŒºåŸŸï¼‰
            const margin = 100; // è¾¹ç¼˜å®‰å…¨è·ç¦»
            const x = margin + Math.random() * (window.innerWidth - 2 * margin);
            const y = margin + Math.random() * (window.innerHeight - 2 * margin);
            
            // åˆ›å»ºçƒŸèŠ±
            createFirework(x, y, randomType);
            
            // éšæœºé—´éš”æ—¶é—´ï¼ˆ1-3ç§’ï¼‰åç”Ÿæˆä¸‹ä¸€ä¸ªçƒŸèŠ±
            const nextDelay = 1000 + Math.random() * 2000;
            setTimeout(autoGenerateFireworks, nextDelay);
        }

        // æ·»åŠ æ–‡å­—äº‘æ•°æ®
        const positiveWords = [
            'å¥‹æ–—', 'æ¢¦æƒ³', 'å¸Œæœ›', 'å‹‡æ°”', 'åšæŒ', 
            'æ‹¼æ', 'ä¿¡å¿µ', 'åŠ›é‡', 'æˆé•¿', 'çªç ´',
            'åˆ›æ–°', 'è¿›æ­¥', 'çƒ­çˆ±', 'æ¿€æƒ…', 'çœŸè¯š',
            'å–„è‰¯', 'æ„Ÿæ©', 'è´£ä»»', 'æ‹…å½“', 'æ™ºæ…§',
            'å›¢ç»“', 'å’Œè°', 'å‹çˆ±', 'åŒ…å®¹', 'åˆ†äº«',
            'å¿«ä¹', 'å¹¸ç¦', 'æˆåŠŸ', 'æœºé‡', 'æœªæ¥'
        ];

        // ä¿®æ”¹æ–‡å­—äº‘ç”Ÿæˆå‡½æ•°
        function createWordCloud() {
            const container = document.getElementById('wordCloud');
            const screenWidth = window.innerWidth;
            
            // å‡å°‘æ–‡å­—å®ä¾‹çš„æ•°é‡ï¼Œä»åŸæ¥çš„ positiveWords.length * 2 æ”¹ä¸ºå›ºå®šçš„è¾ƒå°æ•°å€¼
            const totalInstances = 10; // åªæ˜¾ç¤º10ä¸ªæ–‡å­—
            
            for (let i = 0; i < totalInstances; i++) {
                const wordElement = document.createElement('div');
                wordElement.className = 'floating-word';
                
                // éšæœºé€‰æ‹©ä¸€ä¸ªè¯
                const word = positiveWords[Math.floor(Math.random() * positiveWords.length)];
                wordElement.textContent = word;
                
                // éšæœºèµ·å§‹xä½ç½®å’Œç»“æŸxä½ç½®
                const startX = Math.random() * screenWidth;
                const endX = startX + (Math.random() - 0.5) * 200;
                const rotation = (Math.random() - 0.5) * 360;
                
                wordElement.style.setProperty('--start-x', `${startX}px`);
                wordElement.style.setProperty('--end-x', `${endX}px`);
                wordElement.style.setProperty('--rotation', `${rotation}deg`);
                
                // å¢åŠ å­—ä½“å¤§å°ä½¿æ–‡å­—æ›´åŠ é†’ç›®
                const fontSize = 18 + Math.random() * 12; // è°ƒæ•´å­—ä½“å¤§å°èŒƒå›´ä¸º18-30px
                wordElement.style.fontSize = `${fontSize}px`;
                
                // å¢åŠ åŠ¨ç”»å»¶è¿Ÿçš„é—´éš”ï¼Œä½¿æ–‡å­—å‡ºç°æ›´åŠ å‡åŒ€
                const delay = (i / totalInstances) * 15; // å‡åŒ€åˆ†å¸ƒçš„å»¶è¿Ÿ
                wordElement.style.animationDelay = `${delay}s`;
                
                // å¢åŠ åŠ¨ç”»æŒç»­æ—¶é—´
                const duration = 20 + Math.random() * 10; // 20-30ç§’çš„éšæœºæŒç»­æ—¶é—´
                wordElement.style.animationDuration = `${duration}s`;
                
                container.appendChild(wordElement);
                
                wordElement.addEventListener('animationend', () => {
                    container.removeChild(wordElement);
                    createSingleWord(container);
                });
            }
        }

        // æ·»åŠ åˆ›å»ºå•ä¸ªæ–‡å­—çš„å‡½æ•°
        function createSingleWord(container) {
            const wordElement = document.createElement('div');
            wordElement.className = 'floating-word';
            
            const word = positiveWords[Math.floor(Math.random() * positiveWords.length)];
            wordElement.textContent = word;
            
            const screenWidth = window.innerWidth;
            const startX = Math.random() * screenWidth;
            const endX = startX + (Math.random() - 0.5) * 200;
            const rotation = (Math.random() - 0.5) * 360;
            
            wordElement.style.setProperty('--start-x', `${startX}px`);
            wordElement.style.setProperty('--end-x', `${endX}px`);
            wordElement.style.setProperty('--rotation', `${rotation}deg`);
            
            const fontSize = 18 + Math.random() * 12; // è°ƒæ•´å­—ä½“å¤§å°èŒƒå›´ä¸º18-30px
            wordElement.style.fontSize = `${fontSize}px`;
            
            // ä¸éœ€è¦åˆå§‹å»¶è¿Ÿ
            wordElement.style.animationDuration = `${20 + Math.random() * 10}s`;
            
            container.appendChild(wordElement);
            
            wordElement.addEventListener('animationend', () => {
                container.removeChild(wordElement);
                createSingleWord(container);
            });
        }
    </script>
</body>
</html>
