<!DOCTYPE html>
<html>
<head>
    <title>æ–°å¹´ç¥ç¦æŠ½ç­¾</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
            font-family: "Microsoft YaHei", sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
            width: auto;
            height: auto;
        }
        .sky-lantern::after {
            content: 'ç¦';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ffd700;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.8);
        }

        .sky-lantern .decoration {
            position: absolute;
            width: 40px;
            height: 10px;
            background: linear-gradient(90deg, #ffd700, #ffeb3b);
            border-radius: 5px;
            left: 50%;
            transform: translateX(-50%);
        }

        .sky-lantern .decoration:nth-child(1) {
            top: 15px;
        }

        .sky-lantern .decoration:nth-child(2) {
            top: 35px;
        }

        .sky-lantern .decoration:nth-child(3) {
            top: 55px;
        }

        .sky-lantern {
            position: absolute;
            width: 60px;
            height: 90px;
            background: linear-gradient(to bottom, #ff4d4d, #ff6b6b);
            border-radius: 30px 30px 5px 5px;
            box-shadow: 0 0 30px rgba(255, 77, 77, 0.6);
            animation: float 8s infinite ease-in-out;
            z-index: 0;
            left: var(--x, 50%);
            top: var(--y, 50%);
            animation-delay: var(--delay, 0s);
            transition: transform 0.3s ease;
        }

        .sky-lantern::before {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: rgba(255, 165, 0, 0.8);
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(255, 165, 0, 0.6);
            animation: flicker 2s infinite;
        }

        .sky-lantern:hover {
            transform: scale(1.1);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(3deg); }
            50% { transform: translateY(-30px) rotate(-3deg); }
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .blessing-box {
            width: 300px;
            height: 400px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #ffd700;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
            backdrop-filter: blur(5px);
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        .blessing-text {
            background: linear-gradient(45deg, #ff3333, #ffffff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-size: 48px;
            margin: 20px;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 2px 2px 4px rgba(255, 51, 51, 0.3);
            font-weight: bold;
            line-height: 1.2;
            text-align: center;
        }

        .blessing-title {
            font-size: 36px;
            background: linear-gradient(45deg, #ffd700, #ff3333);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 3px 3px 6px rgba(255, 215, 0, 0.5);
            margin-bottom: 30px !important;
        }

        .draw-button {
            background: #ff4d4d;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .draw-button:hover {
            transform: scale(1.1);
            background: #ff6b6b;
        }

        .lantern {
            position: absolute;
            width: 50px;
            height: 70px;
            background: linear-gradient(to bottom, #ff4d4d, #ff6b6b);
            border-radius: 25px 25px 8px 8px;
            box-shadow: 0 0 20px rgba(255, 77, 77, 0.5);
            animation: swing 3s infinite ease-in-out;
            z-index: 0;
            position: relative;
        }

        /* æ·»åŠ ç¯ç¬¼è£…é¥° */
        .lantern::before {
            content: 'ç¦';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ffd700;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.8);
        }

        /* æ·»åŠ ç¯ç¬¼é¡¶éƒ¨ */
        .lantern::after {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 10px;
            background: #ffd700;
            border-radius: 5px 5px 0 0;
        }

        /* æ·»åŠ ç¯ç¬¼åº•éƒ¨ç«ç„°æ•ˆæœ */
        .lantern .flame {
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: radial-gradient(circle at center, #ffeb3b, #ffd700, transparent 70%);
            border-radius: 50%;
            animation: flicker 2s infinite ease-in-out;
        }

        /* æ·»åŠ è£…é¥°çº¿æ¡ */
        .lantern .decoration {
            position: absolute;
            width: 80%;
            height: 2px;
            background: rgba(255, 215, 0, 0.5);
            left: 10%;
        }

        .lantern .decoration:nth-child(1) { top: 20%; }
        .lantern .decoration:nth-child(2) { top: 40%; }
        .lantern .decoration:nth-child(3) { top: 60%; }

        @keyframes flicker {
            0%, 100% { 
                opacity: 1;
                transform: translateX(-50%) scale(1);
            }
            50% { 
                opacity: 0.8;
                transform: translateX(-50%) scale(0.9);
            }
        }

        .firecracker {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes swing {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        @keyframes explode {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(20); opacity: 0; }
        }

        /* æ·»åŠ æ–°çš„åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .blessing-text.animate {
            animation: fadeIn 0.5s ease-out;
        }

        /* æ·»åŠ åª’ä½“æŸ¥è¯¢ä»¥ç¡®ä¿åœ¨å°å±å¹•ä¸Šä¹Ÿèƒ½æ­£ç¡®æ˜¾ç¤º */
        @media screen and (max-height: 600px) {
            .blessing-box {
                height: 300px;
                transform: scale(0.9);
            }
            
            .blessing-title {
                font-size: 28px;
                margin-bottom: 15px !important;
            }
            
            .blessing-text {
                font-size: 36px;
                min-height: 100px;
            }
        }

        /* æ·»åŠ æ˜Ÿæ˜Ÿæ ·å¼ */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 1.5s infinite ease-in-out;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* æ·»åŠ  emoji é™è½åŠ¨ç”»æ ·å¼ */
        .falling-emoji {
            position: absolute;
            font-size: 24px;
            pointer-events: none;
            animation: fallDown 3s linear forwards;
            z-index: 1;
        }

        @keyframes fallDown {
            0% {
                transform: translateY(-20px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* æ·»åŠ è›‡å½¢åŠ¨ç”»æ•ˆæœ */
        .emoji-firework-particle {
            position: absolute;
            pointer-events: none;
            animation: snakeFirework 2s ease-out forwards;
            font-size: 12px;
            z-index: 1;
        }

        @keyframes snakeFirework {
            0% {
                transform: translate(0, 0) scale(0.1);
                opacity: 1;
            }
            50% {
                transform: translate(var(--tx), var(--ty)) scale(1) rotate(var(--rotation));
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(1) rotate(var(--rotation));
                opacity: 0;
            }
        }

        /* åœ¨ CSS éƒ¨åˆ†æ·»åŠ æ–°çš„åŠ¨ç”» */
        @keyframes flyAway {
            0% {
                transform: translate(0, 0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translate(var(--fly-x), -100vh) rotate(var(--fly-rotation));
                opacity: 0;
            }
        }

        .lantern.fly-away {
            animation: flyAway 2s ease-out forwards;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="blessing-box">
            <h2 class="blessing-title">æ–°å¹´å¿«ä¹ï¼<br>æ¥æŠ½ä¸ªç­¾å§ï¼</h2>
            <div class="blessing-text" id="blessingText">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æŠ½å–ç¥ç¦</div>
            <button class="draw-button" onclick="drawBlessing()">æŠ½å–ç¥ç¦</button>
        </div>
    </div>

    <script>
        const blessings = [
            "é‡‘è›‡çŒ®ç‘ï¼Œä¸‡äº‹å¦‚æ„",
            "è›‡èˆçµåŠ¨ï¼Œäº‹ä¸šè…¾é£",
            "è›‡å¹´å¤§å‰ï¼Œé˜–å®¶æ¬¢ä¹",
            "è´¢æºå¹¿è¿›ï¼Œç¦å¯¿å®‰åº·",
            "è›‡å¹´çº³ç¦ï¼Œå‰ç¨‹ä¼¼é”¦",
            "å‰ç¥¥å¦‚æ„ï¼Œå¿ƒæƒ³äº‹æˆ",
            "è›‡å¹´ç¥¥ç‘ï¼Œå¹¸ç¦å®‰åº·",
            "è›‡èˆç››ä¸–ï¼Œä¸‡äº‹é¡ºé‚",
            "æ–°å¹´å¿«ä¹ï¼Œå¤§å‰å¤§åˆ©",
            "ç¦æ˜Ÿé«˜ç…§ï¼Œå–œæ°”æ´‹æ´‹",
            "è›‡å¹´çº³ç¦ï¼Œç™¾äº‹äº¨é€š",
            "äº”ç¦ä¸´é—¨ï¼Œä¸‡äº‹èƒœæ„"
        ];

        const fireworkColors = [
            '#ff0000', '#ffd700', '#00ff00', '#0000ff', 
            '#ff00ff', '#00ffff', '#ff8c00', '#ff1493',
            '#9400d3', '#7fff00', '#ff69b4', '#00fa9a'
        ];

        // ä¿®æ”¹ç¥ç¦è¯­å’Œå¯¹åº”çš„ emoji æ˜ å°„
        const blessingEmojis = {
            "é‡‘è›‡çŒ®ç‘ï¼Œä¸‡äº‹å¦‚æ„": ["ğŸ", "âœ¨"],
            "è›‡èˆçµåŠ¨ï¼Œäº‹ä¸šè…¾é£": ["ğŸ", "ğŸ’«"],
            "è›‡å¹´å¤§å‰ï¼Œé˜–å®¶æ¬¢ä¹": ["ğŸ", "ğŸ®"],
            "è´¢æºå¹¿è¿›ï¼Œç¦å¯¿å®‰åº·": ["ğŸ’°", "ğŸ§§"],
            "è›‡å¹´çº³ç¦ï¼Œå‰ç¨‹ä¼¼é”¦": ["ğŸ", "ğŸŒŸ"],
            "å‰ç¥¥å¦‚æ„ï¼Œå¿ƒæƒ³äº‹æˆ": ["ğŸŠ", "ğŸ’«"],
            "è›‡å¹´ç¥¥ç‘ï¼Œå¹¸ç¦å®‰åº·": ["ğŸ", "ğŸ‹"],
            "è›‡èˆç››ä¸–ï¼Œä¸‡äº‹é¡ºé‚": ["ğŸ", "ğŸŒŸ"],
            "æ–°å¹´å¿«ä¹ï¼Œå¤§å‰å¤§åˆ©": ["ğŸ†", "ğŸˆ"],
            "ç¦æ˜Ÿé«˜ç…§ï¼Œå–œæ°”æ´‹æ´‹": ["â­", "ğŸ‰"],
            "è›‡å¹´çº³ç¦ï¼Œç™¾äº‹äº¨é€š": ["ğŸ", "ğŸ§§"],
            "äº”ç¦ä¸´é—¨ï¼Œä¸‡äº‹èƒœæ„": ["ğŸ®", "ğŸ’"]
        };

        // ä¿®æ”¹ JavaScript éƒ¨åˆ†çš„ createLanterns å‡½æ•°
        function createLanterns() {
            const sections = 6;
            const sectionWidth = window.innerWidth / sections;
            const lanternWidth = 50;
            
            for (let i = 0; i < sections; i++) {
                const lantern = document.createElement('div');
                lantern.className = 'lantern';
                lantern.dataset.index = i; // æ·»åŠ ç´¢å¼•æ ‡è¯†
                
                // æ·»åŠ è£…é¥°çº¿æ¡
                for (let j = 0; j < 3; j++) {
                    const decoration = document.createElement('div');
                    decoration.className = 'decoration';
                    lantern.appendChild(decoration);
                }
                
                // æ·»åŠ ç«ç„°æ•ˆæœ
                const flame = document.createElement('div');
                flame.className = 'flame';
                lantern.appendChild(flame);
                
                const minX = i * sectionWidth + lanternWidth;
                const maxX = (i + 1) * sectionWidth - lanternWidth;
                const x = minX + Math.random() * (maxX - minX);
                const y = Math.random() * (window.innerHeight / 2);
                
                lantern.style.left = `${x}px`;
                lantern.style.top = `${y}px`;
                document.body.appendChild(lantern);
            }
        }

        // ä¼˜åŒ–é­ç‚®æ•ˆæœ
        function createFirecracker(x, y) {
            const count = 12; // æ¯æ¬¡åˆ›å»ºå¤šä¸ªç²’å­
            for (let i = 0; i < count; i++) {
                const angle = (i / count) * Math.PI * 2;
                const velocity = 5;
                const firecracker = document.createElement('div');
                firecracker.className = 'firecracker';
                firecracker.style.left = `${x}px`;
                firecracker.style.top = `${y}px`;
                firecracker.style.background = fireworkColors[Math.floor(Math.random() * fireworkColors.length)];
                
                // æ·»åŠ å¾„å‘è¿åŠ¨
                const animation = firecracker.animate([
                    { transform: 'scale(1) translate(0, 0)', opacity: 1 },
                    { 
                        transform: `scale(2) translate(${Math.cos(angle) * 100}px, ${Math.sin(angle) * 100}px)`,
                        opacity: 0 
                    }
                ], {
                    duration: 1000,
                    easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
                });

                document.body.appendChild(firecracker);
                animation.onfinish = () => document.body.removeChild(firecracker);
            }
        }

        // ä¿®æ”¹çƒŸèŠ±å‡½æ•°ï¼Œæ·»åŠ è›‡å½¢è·¯å¾„
        function createEmojiFirework(x, y, emoji) {
            const particleCount = 24; // å‡å°‘ç²’å­æ•°é‡
            const radius = 150; // å¢åŠ çˆ†ç‚¸åŠå¾„

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'emoji-firework-particle';
                particle.textContent = emoji;
                
                // åˆ›å»ºè›‡å½¢è·¯å¾„
                const angle = (i / particleCount) * Math.PI * 2;
                const spiralFactor = 1 + (i / particleCount) * 0.5; // æ·»åŠ èºæ—‹æ•ˆæœ
                const tx = Math.cos(angle) * radius * spiralFactor;
                const ty = Math.sin(angle) * radius * spiralFactor;
                const rotation = Math.random() * 360; // éšæœºæ—‹è½¬
                
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                particle.style.setProperty('--tx', `${tx}px`);
                particle.style.setProperty('--ty', `${ty}px`);
                particle.style.setProperty('--rotation', `${rotation}deg`);
                
                document.body.appendChild(particle);
                
                particle.addEventListener('animationend', () => {
                    document.body.removeChild(particle);
                });
            }
        }

        // ä¿®æ”¹æŠ½ç­¾å‡½æ•°
        function drawBlessing() {
            const blessingText = document.getElementById('blessingText');
            const randomBlessing = blessings[Math.floor(Math.random() * blessings.length)];
            
            // è®©éšæœºçš„ç¯ç¬¼é£èµ°
            const lanterns = document.querySelectorAll('.lantern:not(.fly-away)');
            if (lanterns.length > 0) {
                const randomLantern = lanterns[Math.floor(Math.random() * lanterns.length)];
                // è®¾ç½®éšæœºçš„é£è¡Œæ–¹å‘
                const flyX = (Math.random() - 0.5) * window.innerWidth;
                const rotation = (Math.random() - 0.5) * 720; // éšæœºæ—‹è½¬è§’åº¦
                
                randomLantern.style.setProperty('--fly-x', `${flyX}px`);
                randomLantern.style.setProperty('--fly-rotation', `${rotation}deg`);
                randomLantern.classList.add('fly-away');
                
                // ç¯ç¬¼é£èµ°åç§»é™¤å…ƒç´ 
                randomLantern.addEventListener('animationend', () => {
                    randomLantern.remove();
                    // åˆ›å»ºæ–°çš„ç¯ç¬¼
                    const sectionIndex = parseInt(randomLantern.dataset.index);
                    const sectionWidth = window.innerWidth / 6;
                    const lanternWidth = 50;
                    const minX = sectionIndex * sectionWidth + lanternWidth;
                    const maxX = (sectionIndex + 1) * sectionWidth - lanternWidth;
                    const x = minX + Math.random() * (maxX - minX);
                    const y = Math.random() * (window.innerHeight / 2);
                    
                    const newLantern = document.createElement('div');
                    newLantern.className = 'lantern';
                    newLantern.dataset.index = sectionIndex;
                    
                    // æ·»åŠ è£…é¥°çº¿æ¡
                    for (let j = 0; j < 3; j++) {
                        const decoration = document.createElement('div');
                        decoration.className = 'decoration';
                        newLantern.appendChild(decoration);
                    }
                    
                    // æ·»åŠ ç«ç„°æ•ˆæœ
                    const flame = document.createElement('div');
                    flame.className = 'flame';
                    newLantern.appendChild(flame);
                    
                    newLantern.style.left = `${x}px`;
                    newLantern.style.top = `${y}px`;
                    document.body.appendChild(newLantern);
                });
            }
            
            blessingText.classList.remove('animate');
            void blessingText.offsetWidth;
            blessingText.classList.add('animate');
            blessingText.textContent = randomBlessing;

            // åˆ›å»ºå¯¹åº”çš„ emoji é™è½æ•ˆæœ
            const emojis = blessingEmojis[randomBlessing];
            if (emojis) {
                // åˆ›å»ºå¤šä¸ª emoji å®ä¾‹
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
                        createEmojiFirework(
                            Math.random() * window.innerWidth,
                            Math.random() * window.innerHeight,
                            randomEmoji
                        );
                    }, i * 300); // æ¯300msåˆ›å»ºä¸€ä¸ªæ–°çš„emoji
                }
            }

            // åŸæœ‰çš„é­ç‚®æ•ˆæœ
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    createFirecracker(
                        window.innerWidth / 2 + (Math.random() - 0.5) * 200,
                        window.innerHeight / 2 + (Math.random() - 0.5) * 200
                    );
                }, i * 200);
            }
        }

        // ä½¿ç”¨ requestAnimationFrame ä¼˜åŒ–æ€§èƒ½
        let lastFireworkTime = 0;
        function animateFireworks(timestamp) {
            if (timestamp - lastFireworkTime > 500) {
                createFirecracker(
                    Math.random() * window.innerWidth,
                    Math.random() * window.innerHeight
                );
                lastFireworkTime = timestamp;
            }
            requestAnimationFrame(animateFireworks);
        }

        // æ·»åŠ åˆ›å»ºæ˜Ÿæ˜Ÿçš„å‡½æ•°
        function createStars() {
            const numberOfStars = 20; // æ§åˆ¶æ˜Ÿæ˜Ÿæ•°é‡
            
            for (let i = 0; i < numberOfStars; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                // éšæœºä½ç½®
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * window.innerHeight;
                
                // éšæœºå¤§å° (1-3åƒç´ )
                const size = 1 + Math.random() * 2;
                
                star.style.left = `${x}px`;
                star.style.top = `${y}px`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // éšæœºåŠ¨ç”»å»¶è¿Ÿ
                star.style.animationDelay = `${Math.random() * 2}s`;
                
                document.body.appendChild(star);
            }
        }

        // åˆå§‹åŒ–
        window.addEventListener('load', () => {
            createLanterns();
            createStars();
            requestAnimationFrame(animateFireworks);
        });
    </script>
</body>
</html>
